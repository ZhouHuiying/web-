## 数据链路层

使用的信道：点对点通信、广播通信；

同步传输和异步传输：
  同步传输：一连串的比特连续发送；
  异步传输：逐个字符的传送；

### 3.1 使用点到点信道的数据链路层

3.1.1 数据链路和帧
链路：一个结点到相邻结点的一段物理线路；
数据链路：物理线路+必要的通信协议；

点到点信道的数据链路层的协议数据单元——帧

3.1.2 三个基本问题
（1）封装成帧：
  在一段数据的前后分别添加首部和尾部就构成了帧，首部和尾部的重要作用就是进行帧定界；
  每一种链路层协议都规定了帧的数据部分的长度上限-最大传送单元MTU
（2）透明传输：
  当传送的帧是用文本文件组成的帧时（文本文件中的字符都是从键盘上输入的)，其数据部分显然不会出现像SOH(首部开始符00000001)或EOT(传输结束符00000100)这样的帧定界控制字符。可见不管从键盘上输入什么字符都可以放在这样的帧中传输过去，因此这样的传输就是透明传输。
  如何解决透明传输问题：发送端的数据链路层在数据中出现控制字符SOH或EOT的前面插入一个转义字符(1B)-字节填充或字符填充
（3）错检测：-比特差错 
  循环冗余CRC技术 (!)
  帧检验序列FCS

### 3.2 PPP协议

3.2.1 PPP协议的组成
(1) 一个将IP数据报封装到串行链路的方法
(2) 一个用来建立、配置和测试数据链路连接的链路控制协议LCP
(3) 一套网络控制协议NCP

3.2.2 PPP协议的帧格式
标志字段：0x7E
字节填充：
零比特填充

3.2.3 PPP协议的工作状态
设备之间无链路 -> 物理链路 -> LCP链路 -> 已鉴别的LCP链路 -> 已鉴别的LCP链路和NCP链路

### 3.3 使用广播信道的数据链路层

3.3.1 局域网的数据链路层  -以太网 

局域网跨越数据链路层+物理层

局域网分类：
  按网络拓扑分类：星形网、环形网（令牌环形网）、总线网（CSMA/CD）、树形网；

共享信道的两种方法：
  静态划分信道：FDM、TDM、WDM、CDM；
  动态媒体接入控制：随机接入、受控接入；

适配器的作用：
  适配器和局域网之间的通信是通过电缆或双绞线以串行传输方式进行的，而适配器和计算机之间的通信则是通过计算机主板上的I/O总线以并行传输方式进行的。因此，适配器的一个重要功能就是要进行数据串行传输和并行传输的转换。由于网络上的数据率和计算机总线上的数据率并不相同，因此在适配器中必须装有对数据进行缓存的存储芯片；

3.3.2 CSMA/CD协议 (!!)

载波监听多点接入/碰撞检测 (!)

截断二进制指数退避算法 (!)

以太网的最短有效帧长：64字节
帧间最小间隔：9.6us

### 3.4 使用广播信道的以太网

3.4.1 使用集线器的星形拓扑

集线器：工作在物理层

3.4.2 以太网的信道利用率

定义了参数a = 端到端传输时延tuo/帧的发送时间T0；
信道利用率：Smax = T0/(T0 + tuo) = 1/(1+a)

3.4.3 以太网的MAC层
MAC地址（适配器地址/适配器标识符EUI-48）：48位 组织唯一标识符OUI+扩展标识符

MAC帧的格式：
  DIX Ethernet V2标准（以太网V2） (!)
  IEEE 802.3标准

### 3.5 扩展的以太网

3.5.1 在物理层扩展以太网
集线器：还是一个网络，同一速率，

3.5.2 在数据链路层扩展以太网
网桥
网桥的好处：
  （1）过滤通信量，增大吞吐量
  （2）扩大了物理范围
  （3）提高了可靠性
  （4）可互联不同物理层、不同MAC子层和不同速率

(!)透明网桥转发数据报的过程

生成树算法

源路由网桥

多端口网桥—以太网交换机

### 3.6 高速以太网

3.6.1 100BASE-T以太网

3.6.2 吉比特以太网

3.6.3 10吉比特以太网

### 3.7 其他类型的高速局域网或接口

光纤分布式数据接口FDDI
