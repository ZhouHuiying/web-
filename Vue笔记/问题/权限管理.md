### 权限管理

权限是对特定资源的访问许可，所谓权限控制，也就是确保用户只能访问到被分配的资源。

而前端权限归根结底是请求的发起权，请求的发起可能有下面两种形式触发
  页面加载触发
  页面上的按钮点击触发

总的来说，所有的请求发起都触发自前端路由或视图

所以我们可以从这两方面入手，对触发权限的源头进行控制，最终要实现的目标是：
  路由方面，用户登录后只能看到自己有权访问的导航菜单，也只能访问自己有权访问的路由地址，否则将跳转 4xx 提示页；
  视图方面，用户只能看到自己有权浏览的内容和有权操作的控件；
  最后再加上请求控制作为最后一道防线，路由可能配置失误，按钮可能忘了加权限，这种时候请求控制可以用来兜底，越权请求将在前端被拦截；

### 如何做权限控制？

前端权限控制可以分为四个方面：
  接口权限
  按钮权限
  菜单权限
  路由权限

#### 接口权限
接口权限目前一般采用jwt的形式来验证，没有通过的话一般返回401，跳转到登录页面重新进行登录；
登录完拿到token，将token存起来，通过axios请求拦截器进行拦截，每次请求的时候头部携带token；

  jwt: Json web token,  是为了在网络应用环境间传递声明而执行的一种基于JSON的开放标准。该token被设计为紧凑且安全的，特别适用于分布式站点的单点登录（SSO）场景。JWT的声明一般被用来在身份提供者和服务提供者间传递被认证的用户身份信息，以便于从资源服务器获取资源，也可以增加一些额外的其它业务逻辑所必须的声明信息，该token也可直接被用于认证，也可被加密。
  
  token: Token是服务端生成的一串字符串，以作客户端进行请求的一个令牌，当第一次登录后，服务器生成一个Token便将此Token返回给客户端，以后客户端只需带上这个Token前来请求数据即可，无需再次带上用户名和密码

#### 路由权限控制
方案一：
  初始化即挂载全部路由，并且在路由上标记相应的权限信息，每次路由跳转前做校验;
方案二：
  初始化的时候先挂载不需要权限控制的路由，比如登录页，404等错误页。如果用户通过URL进行强制访问，则会直接进入404，相当于从源头上做了控制;

#### 菜单权限
将页面与路由解耦；
方案一：
  菜单与路由分离，菜单由后端返回；
方案二：
  菜单和路由都由后端返回;

#### 按钮权限
方案一：
  v-if
方案二：
  通过自定义指令进行按钮权限的判断