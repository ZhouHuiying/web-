

### 1、Vite和 Vue CLI 的区别

支持 Vue/React/Svelte 全框架的开发环境

主要区别在于，对于Vite，在开发过程中没有捆绑。源代码中的ES Import语法直接提供给浏览器，浏览器通过原生的 script module 支持解析这些语法，
并为每次导入发起HTTP请求。dev服务器拦截请求，并在必要时执行代码转换。例如，导入到*.vue文件的内容在发送回浏览器之前被即时编译。

这种方法有几个优点：
  因为没有打包工作要做，所以服务器冷启动非常快。
  代码是按需编译的，因此只有在当前页面上实际导入的代码才会编译。我们不必等到整个应用程序打包后才开始开发，这对于有几十个页面的应用程序来说是一个巨大的不同。
  热模块更新（HMR）的性能与模块总数解耦。这使得无论应用程序有多大，HMR都能保持快速。


- 为什么vite速度快？
  1） vite使用的是浏览器自带的module去解析js的 import { foo } from './other-module'，由于大多数现代浏览器都支持上面的 ES module 语法，所以在开发阶段，我们就不必对其进行打包，这节省了大量的服务启动时间。另外，vite 按需加载当前页面所需文件，一个文件一个http请求，进一步减少启动时间。
  2）缓存来减少页面更新时间：每个文件通过 http 头缓存在浏览器端，当编辑完一个文件，只需让此文件缓存失效。当基于 ES module 进行热更新时，仅需更新失效的模块，这使得更新时间不随包的增大而增大。

vite借用Rollup打包工具，可以打包多页应用程序MPA和工具库Library；
它把项目分为依赖和源代码；
将依赖部分提前打包，保存在node_modules/node_modules/.vite, 使用es bulid(用go语言写的，速度比javascript快)；
源代码直接运行在浏览器，利用原生的ESM 模块化语法加载；
  
- 为什么vite速度快？
  Webpack 会先打包，然后启动开发服务器，请求服务器时直接给予打包结果。
  而 Vite 是直接启动开发服务器，请求哪个模块再对该模块进行实时编译。
  Vite 将开发环境下的模块文件，就作为浏览器要执行的文件，而不是像 Webpack 那样进行打包合并。
  由于 Vite 在启动的时候不需要打包，也就意味着不需要分析模块的依赖、不需要编译。因此启动速度非常快。当浏览器请求某个模块时，再根据需要对模块内容进行编译。